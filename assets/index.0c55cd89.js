var ee=Object.defineProperty,te=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var W=(t,a,n)=>a in t?ee(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,T=(t,a)=>{for(var n in a||(a={}))ne.call(a,n)&&W(t,n,a[n]);if(_)for(var n of _(a))re.call(a,n)&&W(t,n,a[n]);return t},M=(t,a)=>te(t,ae(a));import{M as V,r as u,R as e,c as b,S as se,u as oe,a as le,L as q,F as K,b as $,d as C,l as Z,D as H,B as ce,e as ie,f as B,g as de}from"./vendor.fec59dc8.js";const ue=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};ue();const me=V.default||V,ge=JSON.parse('[{"prefix":"fa","width":1536,"height":1536,"icons":{"spotify":{"body":"<path d=\\"M1127 1082q0-32-30-51q-193-115-447-115q-133 0-287 34q-42 9-42 52q0 20 13.5 34.5T370 1051q5 0 37-8q132-27 243-27q226 0 397 103q19 11 33 11q19 0 33-13.5t14-34.5zm96-215q0-40-35-61q-237-141-548-141q-153 0-303 42q-48 13-48 64q0 25 17.5 42.5T349 831q7 0 37-8q122-33 251-33q279 0 488 124q24 13 38 13q25 0 42.5-17.5T1223 867zm108-248q0-47-40-70q-126-73-293-110.5T655 401q-204 0-364 47q-23 7-38.5 25.5T237 522q0 31 20.5 52t51.5 21q11 0 40-8q133-37 307-37q159 0 309.5 34t253.5 95q21 12 40 12q29 0 50.5-20.5T1331 619zm205 149q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768z\\" fill=\\"currentColor\\"/>"}}},{"prefix":"fxemoji","width":512,"height":512,"icons":{"saxophone":{"body":"<path fill=\\"#2B3B47\\" d=\\"M455.18 78.623s1.222.056 3.125.541c1.914.468 4.507 1.369 7.378 2.848c2.872 1.476 6.014 3.544 9.125 6.18c1.552 1.324 3.099 2.785 4.702 4.218c1.575 1.48 3.177 2.98 4.751 4.527c1.568 1.556 3.139 3.108 4.643 4.705c1.526 1.56 2.976 3.183 4.394 4.728c1.395 1.583 2.744 3.111 3.99 4.617a141.11 141.11 0 0 1 3.475 4.301a120.146 120.146 0 0 1 4.97 6.82l1.318 2.034l.451.745c4.907 8.099 2.319 18.643-5.78 23.55a17.056 17.056 0 0 1-9.98 2.447l-.869-.056l-2.413-.228c-2.06-.227-4.956-.629-8.345-1.252a140.872 140.872 0 0 1-5.421-1.091c-1.911-.407-3.891-.897-5.939-1.402c-2.025-.543-4.134-1.077-6.224-1.709c-2.111-.596-4.214-1.27-6.319-1.941c-2.099-.68-4.17-1.406-6.211-2.118c-2.013-.758-4.023-1.455-5.915-2.218c-3.776-1.539-7.062-3.368-9.699-5.232c-2.639-1.861-4.637-3.744-5.937-5.224c-1.311-1.463-1.925-2.521-1.925-2.521c-8.735-15.035-3.628-34.305 11.408-43.04a31.23 31.23 0 0 1 17.247-4.229z\\"/><path fill=\\"#FFB636\\" d=\\"M454.201 87.385l-1.546-1.118l-.848-.602l-.482-.344l-.084-.188a3.2 3.2 0 0 0-.203-.366a1.868 1.868 0 0 0-.125-.171l-.072-.078l-.122-.166a16.837 16.837 0 0 0-.552-.713l-.307-.362l-.269-.443c-.184-.299-.38-.598-.593-.898a14.354 14.354 0 0 0-.579-1.091c-.806-1.537-1.623-3.549-2.46-6.311c-.858-2.749-1.645-6.252-2.523-10.496c-.936-4.234-1.92-9.209-3.579-14.957c-.789-2.854-1.946-5.95-3.279-9.138c-1.481-3.236-3.152-6.588-5.503-9.917c-.587-.828-1.132-1.664-1.782-2.474a137.451 137.451 0 0 0-2.017-2.408c-.344-.397-.68-.799-1.038-1.187l-1.135-1.126a113.161 113.161 0 0 0-2.334-2.202c-.804-.702-1.661-1.338-2.503-1.997c-.854-.631-1.693-1.338-2.582-1.879l-2.675-1.658l-1.352-.807c-.452-.251-.904-.46-1.359-.689c-1.809-.862-3.677-1.849-5.471-2.455l-2.726-.999c-.453-.157-.917-.339-1.362-.47l-1.327-.37l-2.659-.718c-.888-.236-1.783-.478-2.623-.616c-1.708-.329-3.42-.617-5.124-.906c-3.267-.345-6.588-.765-9.636-.778l-2.319-.07l-1.154-.031l-.144-.004l-1.591.06l-.059.004l-.236.017l-.471.035l-1.02.081a38.447 38.447 0 0 0-3.286.54a39.26 39.26 0 0 0-1.619.378l-.799.213c-.283.077-.391.126-.595.192a56.16 56.16 0 0 0-2.158.791c-1.491.55-2.654 1.179-3.886 1.829c-1.281.658-2.238 1.329-3.287 2.024c-1.08.704-1.908 1.389-2.786 2.094c-.424.351-.882.716-1.264 1.064l-1.114 1.044a56.186 56.186 0 0 0-5.04 5.508C280.358 84.65 229.78 332.724 206.199 332.724c-20.672 0-.467-122.263 18.783-149.472c8.65-10.65 13.562-22.838 13.562-35.789c0-41.671-50.828-75.453-113.528-75.453S11.488 105.792 11.488 147.463c0 13.31 5.192 25.812 14.293 36.668h-.643c29.891 29.891-13.65 74.191-13.65 178.361c0 86.62 66.38 129.56 127.667 141.57c11.034 2.685 23.029 3.958 36.028 3.603c160.027 0 179.87-460.077 213.886-460.077c.4 0 .795-.01 1.187-.03c1.729.379 3.252.835 4.467 1.377c2.224.961 3.485 1.954 5.038 3.717c.776.834 1.509 2.078 2.285 3.404a56.332 56.332 0 0 1 2.195 4.91c1.463 3.656 2.786 7.984 4.223 12.513c1.479 4.521 3.12 9.27 5.205 13.883c2.078 4.607 4.727 9.031 7.633 12.751c.751.928 1.483 1.819 2.209 2.657c.794.817 1.569 1.594 2.318 2.33l1.108 1.071l1.146.953l2.154 1.736l.517.401l.6.412l1.161.768a87.472 87.472 0 0 0 3.095 1.915l.55.256l.944.436l1.739.786l.026.015c6.518 2.952 14.427 1.019 18.782-5.005c4.973-6.878 3.428-16.486-3.45-21.459z\\"/><ellipse fill=\\"#A36119\\" cx=\\"125.19\\" cy=\\"141.931\\" rx=\\"71.121\\" ry=\\"41.321\\"/><path fill=\\"#FFD469\\" d=\\"M37.357 347.777c0-52.686 27.299-106.552 23.079-128.786c-6.629-35.171 40.357-33.983 48.603.263c8.63 34.807-29.776 71.277-40.998 117.413c-6.574 27.028-5.924 58.673 2.453 88.604c1.144 4.089-4.129 6.761-6.727 3.403c-13.195-17.051-26.41-47.998-26.41-80.897zm171.888-226.156a7.796 7.796 0 0 0 1.985-10.844c-4.604-6.667-17.603-17.42-25.648-20.001a7.795 7.795 0 1 0-4.762 14.846c4.08 1.309 14.596 9.691 17.581 14.015a7.785 7.785 0 0 0 6.421 3.366a7.767 7.767 0 0 0 4.423-1.382z\\"/><path fill=\\"#E2A042\\" d=\\"M270.931 251.416c-2.987 13.071-14.069 21.687-24.752 19.246c-10.683-2.441-16.923-15.016-13.936-28.087c2.987-13.071 14.069-21.687 24.752-19.246c10.684 2.442 16.923 15.016 13.936 28.087zm6.155-90.952c-10.683-2.441-21.765 6.175-24.752 19.246c-2.987 13.071 3.252 25.645 13.936 28.087c10.683 2.441 21.765-6.175 24.752-19.246s-3.252-25.645-13.936-28.087zM297.177 97.6c-10.683-2.441-21.765 6.175-24.752 19.246c-2.987 13.071 3.252 25.645 13.936 28.087s21.765-6.175 24.752-19.246c2.987-13.071-3.252-25.646-13.936-28.087z\\"/>"}}},{"prefix":"el","width":1200,"height":1200,"icons":{}},{"prefix":"ps","width":512,"height":512,"icons":{}},{"prefix":"mdi","width":24,"height":24,"icons":{"check":{"body":"<path d=\\"M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59L21 7z\\" fill=\\"currentColor\\"/>"},"loading":{"body":"<path d=\\"M12 4V2A10 10 0 0 0 2 12h2a8 8 0 0 1 8-8z\\" fill=\\"currentColor\\"/>"}}},{"prefix":"ri","width":24,"height":24,"icons":{}},{"prefix":"fluent","width":24,"height":24,"icons":{"missing-metadata-16-regular":{"body":"<path d=\\"M10.5 12.88a.625.625 0 1 1 0 1.249a.625.625 0 0 1 0-1.249zM12.5 2A1.5 1.5 0 0 1 14 3.5v3.637a1.5 1.5 0 0 1-.44 1.06l-.105.107a4.02 4.02 0 0 0-.764-.65l.163-.164A.5.5 0 0 0 13 7.137V3.5a.5.5 0 0 0-.5-.5H8.861l-.079.006a.5.5 0 0 0-.275.14L3.15 8.515a.5.5 0 0 0 0 .707l3.638 3.631a.5.5 0 0 0 .24.134c.19.33.424.631.697.894a1.5 1.5 0 0 1-1.644-.32L2.443 9.928a1.5 1.5 0 0 1-.002-2.121L7.8 2.44a1.5 1.5 0 0 1 .914-.433L8.86 2H12.5zm-2 6.003c1.031 0 1.853.846 1.853 1.95c0 .585-.214.907-.727 1.318l-.277.214c-.246.195-.329.3-.346.449l-.011.156A.5.5 0 0 1 10 12c0-.571.21-.884.716-1.289l.278-.215c.288-.228.36-.342.36-.543c0-.558-.382-.95-.854-.95c-.494 0-.859.366-.853.945a.5.5 0 1 1-1 .01c-.011-1.138.805-1.955 1.853-1.955zm.015-3.13a.625.625 0 1 1 0 1.25a.625.625 0 0 1 0-1.25z\\" fill=\\"currentColor\\" fill-rule=\\"nonzero\\"/>","width":16,"height":16,"hidden":true}}},{"prefix":"et","width":32,"height":32,"icons":{}},{"prefix":"ion","width":512,"height":512,"icons":{}},{"prefix":"map","width":50,"height":50,"icons":{}},{"prefix":"mi","width":24,"height":24,"icons":{}},{"prefix":"il","width":750,"height":850,"icons":{}},{"prefix":"ls","width":717,"height":717,"icons":{"a":{"body":"<path d=\\"M491 222v-94h72v526h-72v-74c-50 55-124 91-206 91C133 671 0 551 0 401s133-270 285-270c82 0 156 36 206 91zm0 185v-12c-4-110-95-198-207-198c-115 0-215 91-215 204s100 204 215 204c112 0 203-88 207-198z\\" fill=\\"currentColor\\"/>","width":563,"height":671},"c":{"body":"<path d=\\"M507 242l-56 39c-38-51-98-84-167-84c-70 0-134 34-174 85c-26 34-41 75-41 119s15 85 41 119c40 51 104 85 174 85c69 0 129-33 167-84l56 39c-50 68-131 111-222 111c-92 0-178-44-230-112C20 514 0 459 0 401s20-113 55-158c52-68 138-112 230-112c91 0 172 43 222 111z\\" fill=\\"currentColor\\"/>","width":507,"height":671},"d":{"body":"<path d=\\"M490 324V0h72v754h-72v-82c-53 58-132 96-216 96C122 768 0 648 0 498s122-270 274-270c84 0 163 38 216 96zM275 702c115 0 215-91 215-204S390 294 275 294c-114 0-207 91-207 204s93 204 207 204z\\" fill=\\"currentColor\\"/>","width":562,"height":768,"inlineTop":-105},"i":{"body":"<path d=\\"M82 82H0V0h82v82zm-5 608H5V164h72v526z\\" fill=\\"currentColor\\"/>","width":82,"height":690,"inlineTop":-169},"s":{"body":"<path d=\\"M280 220l45-47c-50-49-101-74-151-74c-43 0-78 14-107 41c-28 28-42 62-42 103c0 32 9 59 26 85c17 25 52 49 101 75c45 24 75 42 88 57c13 16 19 35 19 55c0 24-11 45-30 63c-19 17-43 27-71 27c-40 0-78-21-114-61L0 595c18 24 42 43 71 56s58 20 90 20c47 0 85-15 117-46c32-32 48-69 48-113c0-32-10-60-28-86c-18-25-55-51-107-78c-43-22-71-42-84-58s-20-33-20-50c0-20 9-38 25-53c16-14 35-22 58-22c36 0 73 18 110 55z\\" fill=\\"currentColor\\"/>","width":326,"height":671}}}]');ge.forEach(t=>me.addCollection(t));function fe(t,a){const n=sessionStorage.getItem(t);return n!=null?JSON.parse(n):a}const j=(t,a)=>{const[n,r]=u.exports.useState(()=>fe(t,a));return u.exports.useEffect(()=>{sessionStorage.setItem(t,JSON.stringify(n))},[t,n]),[n,r]},E=t=>{const a=["rounded-lg border transition bg-white dark:text-gray-200 text-sm font-medium flex px-4 py-2 text-gray-900 hover:bg-gray-100 hover:text-green-700 focus:z-10 focus:ring-2 focus:ring-green-600 focus:text-green-700"];return e.createElement("button",{type:"button",disabled:t.disabled,onClick:t.onClick,className:b(a,t.disabled&&"cursor-not-allowed dark:text-gray-400 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-800 text-gray-400 hover:text-gray-400",!t.disabled&&"dark:bg-white dark:text-gray-800 dark:hover:text-green-700 dark:hover:border-gray-400",t.className)},t.icon&&e.createElement("span",{className:"iconify text-xl mr-2","data-icon":t.icon}),t.children)};function he(t,a){return new Array(a-t+1).fill(void 0).map((n,r)=>r+t)}function I(t,a){return Array.from({length:Math.ceil(t.length/a)},(n,r)=>t.slice(r*a,r*a+a))}const S=new se,ye=["playlist-modify-public","playlist-modify-private","playlist-read-private","playlist-read-collaborative"],pe="https://zboru.github.io/radioify/",xe="35c3ca464dc14fa09a78b2d2353f1e0d",we=!0,ke="token";function be(){let t="https://accounts.spotify.com/authorize";return t+="?response_type="+encodeURIComponent(ke),t+="&client_id="+encodeURIComponent(xe),t+="&scope="+encodeURIComponent(ye.join(" ")),t+="&redirect_uri="+encodeURIComponent(pe),t+="&show_dialog="+encodeURIComponent(we),t}async function Ee(t){return S.setAccessToken(t),await S.users.getMe()}async function ve(t){const a=t.split(" - "),n=a[0].trim().split(/[&;\/(feat.)]/);let r;a[1]?r=a[1].trim().split(/(feat)|(ft)|(prod)|[(]/gi)[0].split("'").join(""):r="";for await(let s of n){s=s.split("'").join("");const l=await S.search.searchTracks(`track:${r} artist:${s}`);if(l==null?void 0:l.items.length)return l.items[0]}}let Y=0;async function Se(t,a){S.setAccessToken(t),Y=0;const n=[],r=[];for await(let s of a){const l=await ve(s.title);l===void 0?n.push(s):r.push(l),Y+=1}return{tracks:r,notFoundSongs:n}}async function ze(t){return S.setAccessToken(t),await S.playlists.getMyPlaylists({limit:50}).then(a=>a)}async function Ne(t,a){S.setAccessToken(t);const n=await S.users.getMe();return await S.playlists.createPlaylist(n.id,a).then(r=>r)}async function Ce(t,a,n){const r=I(n.map(d=>d.uri),100),s=[];for(let d in r)console.log(a.id,r[d]),s.push(S.playlists.removePlaylistItems(a.id,r[d]));await Promise.allSettled(s);const l=I(n.map(d=>d.uri),100),c=[];for(let d in l)c.push(S.playlists.addItemsToPlaylist(a.id,l[d]));await Promise.allSettled(c)}const De=()=>{let t=oe();const a=le(),[n,r]=u.exports.useState(!1),[s,l]=j("spoitfyProfile",null),[c,d]=j("spotifyToken",null);function i(){c&&s===null&&(r(!0),Ee(c.token).then(m=>{l(m),setTimeout(()=>{r(!1)},500)}))}u.exports.useEffect(()=>{const m=a==null?void 0:a.hash.replaceAll("#",""),f=Object.fromEntries(new URLSearchParams(m));if(console.log(m,f),f.access_token){const w=new Date;d({token:f.access_token,expires_in:w.setHours(w.getHours()+1)}),t.push("/")}},[]),u.exports.useEffect(()=>{i()},[c]);function p(){window.location.href=be()}function h(){return s!==null}return e.createElement("div",{className:"p-5"},e.createElement("div",{className:"mb-2"},e.createElement("div",{className:"md:mt-12 bg-gradient-to-bl from-green-400 via-green-300 to-blue-200 bg-clip-text text-transparent max-w-xl text-4xl md:text-6xl font-medium"},"Przenie\u015B swoje ulubione radio do playlisty Spotify!"),e.createElement("div",{className:"mt-4 w-3/4 dark:text-white text-xl font-regular"},"Radioify pozwala ci w \u0142atwy spos\xF3b utworzy\u0107 spersonalizowan\u0105 playlist\u0119 Spotify z piosenkami z Twojego radia internetowego. ",e.createElement("br",null),"To wszystko w kilku prostych krokach!")),n&&e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"w-10 h-10 rounded-full mr-2 animate-pulse bg-gray-200"}),e.createElement("div",{className:"h-5 w-64 bg-gray-200 ml-2 animate-pulse rounded-lg"})),!h()&&!n&&e.createElement("button",{onClick:p,type:"button",className:"rounded-lg mt-4 border border-gray-200 bg-white text-sm font-medium flex px-4 py-2 text-gray-900 hover:bg-gray-100 hover:text-green-700 focus:z-10 focus:ring-2 focus:ring-green-600 focus:text-green-700 mr-3 mb-3"},e.createElement("span",{className:"iconify text-xl mr-2","data-icon":"fa:spotify"}),"Zaloguj si\u0119 przez Spotify"),h()&&e.createElement("div",{className:b("flex items-center dark:text-white",{hidden:n,visible:!n})},e.createElement("img",{className:"w-10 h-10 rounded-full mr-2",src:s==null?void 0:s.image,alt:""}),e.createElement("span",null,"Zalogowany jako ",s==null?void 0:s.display_name)),h()&&e.createElement("p",{className:"inline-block"},e.createElement(q,{to:"/app"},e.createElement(E,{className:"mt-4",icon:"fxemoji:saxophone"},"Przejd\u017A do aplikacji"))))},Te=t=>e.createElement("div",{className:b(t.className,"grid grid-cols-3 sm:grid-cols-5 gap-4")},t.children),R=t=>{const a=["border-t-4 pt-4 sm:transition",{"border-green-600":t.active},{"border-gray-300":!t.active},{visible:t.mobileVisible},{"hidden sm:block":!t.mobileVisible}],n=["uppercase font-bold",{"text-green-600":t.active},{"text-gray-400":!t.active}];return e.createElement("div",{className:b(a)},e.createElement("p",{className:b(n)},t.title),e.createElement("p",{className:"font-semibold"},t.description))},U=t=>{const a=`id-${Math.floor(Math.random()*8096)}`;return e.createElement(e.Fragment,null,e.createElement("label",{className:b("flex flex-col text-gray-600 dark:text-gray-200",t.className),htmlFor:a},e.createElement("span",{className:"text-sm select-none"},t.label),e.createElement("input",{value:t.value,onKeyDown:t.onKeyDown,onBlur:t.onBlur,onFocus:t.onFocus,onChange:t.onChange,placeholder:t.placeholder,id:a,className:"border dark:border-gray-700 p-2 dark:bg-gray-900 dark:text-white rounded",type:"text"})))},Me=({label:t,placeholder:a,items:n,display:r,searchBy:s,onSelect:l})=>{var y;let[c,d]=u.exports.useState(""),[i,p]=u.exports.useState(0),[h,m]=u.exports.useState(!1);function f(o){d(o.currentTarget.value),p(0)}function w(){m(!0)}function D(){m(!1)}function v(){const o=document.querySelector(".active-list-item");o&&o.scrollIntoView({behavior:"smooth",block:"start"})}function N(o){d(o[r||"text"]),m(!1),p(0),l(o)}function x(o){const g="ArrowDown",k="ArrowUp",A="Backspace",F="Enter";m(!0),(o.key===g||o.key===k||o.key===F)&&(o.preventDefault(),o.stopPropagation());const P=z();if(typeof z()!="undefined"){if(o.key===g&&(m(!0),P&&i<P.length-1&&p(i+=1)),o.key===k&&(m(!0),P&&i>0&&p(i-=1)),o.key===F&&P){const Q=P[i];N(Q)}o.key===A&&m(!0)}v()}function z(){if(n){const o={includeScore:!0,keys:[s||"text"]},g=new K(n,o);return c?g.search(c).map(k=>k.item):n}}return e.createElement("div",{className:"relative"},e.createElement(U,{className:"mt-2",value:c,onKeyDown:x,onBlur:D,onFocus:w,onChange:f,label:t,placeholder:a}),h&&n&&e.createElement("div",{className:"absolute max-h-64 no-scrollbar overflow-y-scroll w-full shadow rounded w-full"},(y=z())==null?void 0:y.map((o,g)=>e.createElement("div",{onMouseEnter:()=>{p(g)},onMouseDown:k=>{k.preventDefault(),N(o)},className:b("border select-none dark:border-gray-700 p-2 dark:bg-gray-900 dark:text-white bg-white p-2",{"bg-gray-300 dark:bg-gray-700 active-list-item":i===g}),key:g},o[r||"text"]))))},L=({children:t,active:a,className:n})=>e.createElement("div",{className:b(n,"shadow p-4 bg-white w-full dark:bg-gray-800 rounded",a?"visible":"hidden")},t);let O=0;async function Fe(){const t="https://ods.lynx.re/radiolst.php";return(await $.get(t)).data.summary.flatMap(n=>n.stations)}async function je(t,a,n,r){const s="https://ods.lynx.re/playlist.php",l=he(n,r),c=I(l,10).map(i=>[i[0],i[i.length-1]]),d=new Set;for await(let i of c){i[1]===24&&(i[1]=0);const p=C(a).format("DD-MM-YYYY"),{data:h}=await $.get(`${s}?r=${t}&date=${p}&time_from=${i[0]}&time_to=${i[1]}`);h.summary.forEach(m=>d.add(m.title))}return O+=1,Array.from(d)}async function Pe({radioID:t,startDate:a,endDate:n,startHour:r,endHour:s}){O=0;const l=C(a),c=C(n),d=Math.abs(c.diff(l,"days")),i=[];for(let f=1;f<=d;f++){const w=l.add(f,"day").toString();i.push(je(t,w,r,s))}const p=await Promise.allSettled(i),h=[];return p.forEach(f=>{f.status==="fulfilled"&&h.push(...f.value)}),Array.from(new Set(h)).map(f=>({title:f,excluded:!1}))}const Re=t=>{const[a,n]=j("radioList",[]);return u.exports.useEffect(()=>{(a==null?void 0:a.length)||Fe().then(r=>{n(r)})},[]),e.createElement(L,{active:t.active},e.createElement("p",null,"Skorzystaj z wyszukiwarki, aby wybra\u0107 radio, z kt\xF3rego maj\u0105 by\u0107 pobrane piosenki. Lista stacji radiowych jest dostarczana przez serwis\xA0",e.createElement("a",{className:"underline",href:"https://odsluchane.eu",target:"_blank"},"odSluchane.eu"),"."),e.createElement(Me,{searchBy:"name",display:"name",items:a,label:"Wyszukaj radio",onSelect:t.selectRadio,placeholder:"Antyradio"}),e.createElement("div",{className:"flex"},e.createElement("div",{className:"flex-grow"}),e.createElement(E,{disabled:!t.selectedRadio,className:"mt-2",onClick:t.onForward},"Dalej")))},G=["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],J=["Pon","Wt","\u015Ar","Czw","Pt","Sob","Nd"];const Le=0,Ae=24,qe=t=>{const[a,n]=e.useState([t.startHour,t.endHour]);return e.createElement(e.Fragment,null,e.createElement("p",{className:"mb-8"},"Przedzia\u0142 czasowy dnia"),e.createElement(Z.Range,{values:a,onChange:r=>{n(r),t.onChange(r)},min:0,max:24,step:1,renderTrack:({props:r,children:s})=>e.createElement("div",{onMouseDown:r.onMouseDown,onTouchStart:r.onTouchStart,style:M(T({},r.style),{height:"36px",display:"flex",width:"100%"})},e.createElement("div",{ref:r.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Z.getTrackBackground({values:a,colors:["#ccc","#219f43","#ccc"],min:Le,max:Ae}),alignSelf:"center"}},s)),renderThumb:({index:r,props:s,isDragged:l})=>e.createElement("div",M(T({},s),{style:M(T({},s.style),{height:"15px",width:"15px",borderRadius:"50%",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}),e.createElement("div",{style:{position:"absolute",top:"-35px",color:"#fff",fontWeight:"bold",fontSize:"14px",padding:"5px",width:"30px",textAlign:"center",borderRadius:"4px",backgroundColor:"#219f43"}},a[r].toFixed(0)))}))},X=H.__esModule?H.default:H,He=t=>e.createElement("div",{className:b(t.active?"visible":"hidden","font-regular shadow p-4 bg-white dark:bg-gray-800 rounded")},e.createElement("p",null,"Ustal przedzia\u0142 czasowy, z kt\xF3rego aplikacja ma wyszuka\u0107 piosenki. Godziny okre\u015Blaj\u0105 por\u0119 dnia, w kt\xF3rej pobierane s\u0105 piosenki, czyli aplikacja wyszuka piosenki z ka\u017Cdego dnia pomi\u0119dzy tymi godzinami."),e.createElement("div",{className:"flex flex-cols sm:flex-row mt-4"},e.createElement("label",{className:"flex flex-col",htmlFor:""},"Data pocz\u0105tkowa",e.createElement(X,{onDayChange:t.onStartDateChange,dayPickerProps:{weekdaysShort:J,months:G},value:t.startDate,inputProps:{readOnly:!0,className:"border h-10 p-2 rounded"},placeholder:"YYYY-MM-DD"}))),e.createElement("div",{className:"flex flex-col sm:flex-row mt-2"},e.createElement("label",{className:"flex flex-col",htmlFor:""},"Data ko\u0144cowa",e.createElement(X,{onDayChange:t.onEndDateChange,dayPickerProps:{weekdaysShort:J,months:G},value:t.endDate,inputProps:{readOnly:!0,className:"border p-2 h-10 rounded leading-normal"},placeholder:"YYYY-MM-DD"}))),e.createElement("div",{className:"w-64 mt-2"},e.createElement(qe,{onChange:t.onHoursChange,startHour:t.startHour,endHour:t.endHour})),e.createElement("div",{className:"flex"},e.createElement("div",{className:"flex-grow"}),e.createElement(E,{className:"mr-2",onClick:t.onBackward},"Wstecz"),e.createElement(E,{onClick:t.onForward},"Dalej"))),Be=t=>{const[a,n]=u.exports.useState(!1),[r,s]=u.exports.useState(0);u.exports.useEffect(()=>{setInterval(()=>{s(O)},200)},[]);function l(){const i=C(t.timeRange.startDate);return C(t.timeRange.endDate).diff(i,"day")}function c(){return(t.timeRange.endHour-t.timeRange.startHour)*l()}function d(){var m,f;n(!0);const i=C(t.timeRange.startDate).format("YYYY-MM-DD"),p=C(t.timeRange.endDate).format("YYYY-MM-DD"),h=(f=(m=t.selectedRadio)==null?void 0:m.id)!=null?f:1;Pe({radioID:h,startDate:i,endDate:p,startHour:t.timeRange.startHour,endHour:t.timeRange.endHour}).then(w=>{t.setSongs(w),n(!1)})}return e.createElement(L,{active:t.active},e.createElement("p",null,"Aplikacja wyszuka teraz wszystkie piosenki, kt\xF3re by\u0142y grane w danym okresie. Wybrano \u0142\u0105cznie ",l()," dni, czyli dok\u0142adnie ",c()," godzin licz\u0105c z ustalonego przedzia\u0142u."),e.createElement("p",{className:"mt-2"},"Czy chcesz kontynuowa\u0107?"),a&&e.createElement("p",{className:"text-gray-500 italic flex items-center"},e.createElement("span",{className:"iconify animate-spin","data-icon":"mdi:loading"}),e.createElement("span",{className:"ml-2"},"Szukam... ",r," / ",l()," dni")),!a&&t.songs&&!!t.songs.length&&e.createElement("p",{className:"text-gray-500 italic flex items-center"},e.createElement("span",{className:"iconify","data-icon":"mdi:check"}),e.createElement("span",{className:"ml-2"},"Znalaz\u0142em ponad ",t.songs.length," piosenek!")),e.createElement("div",{className:"flex mt-2"},e.createElement(E,{onClick:d},"Szukaj"),e.createElement("div",{className:"flex-grow"}),e.createElement(E,{className:"mr-2",onClick:t.onBackward},"Wstecz"),e.createElement(E,{disabled:!t.songs.length,onClick:t.onForward},"Dalej")))},Ie=t=>{var x,z;const[a,n]=u.exports.useState(!1),[r,s]=u.exports.useState(null),[l,c]=j("spotifyToken",null),d=u.exports.createRef(),[i,p]=u.exports.useState(0);u.exports.useEffect(()=>{setInterval(()=>{p(Y)},200)},[]);function h(y){const o=y.currentTarget.value;d.current&&(d.current.scrollTop=0),s(o)}function m(y,o){const g=[...t.songs],k=g.indexOf(o);g[k].excluded=!y.currentTarget.checked,t.setSongs(g)}const f={includeScore:!0,keys:["title"]},w=new K(t.songs,f);function D(y){return y?w.search(y).map(o=>o.item):t.songs}function v(){var y;return(((y=t.songs)==null?void 0:y.length)/4.8).toFixed(2)}function N(){n(!0);const y=t.songs.filter(o=>!o.excluded);Se(l.token,y).then(o=>{t.setSpotifySongs(o),n(!1)})}return e.createElement(L,{active:t.active},e.createElement("p",null,"Sprawd\u017A pobran\u0105 list\u0119 i zaznacz utwory, kt\xF3re maj\u0105 zosta\u0107 wyszukane w serwisie Spotify. Utwory odznaczone zostan\u0105 wykluczone z wyszukiwania oraz umieszczenia w playli\u015Bcie."),e.createElement("div",{className:"flex"},e.createElement("div",{className:"flex-grow"}),e.createElement(U,{onChange:h,placeholder:"Wyszukaj utw\xF3r"})),e.createElement("div",{ref:d,className:"overflow-auto border rounded no-scrollbar shadow-md dark:border-gray-700 light:border-gray-300 h-56 w-100"},D(r).map((y,o)=>e.createElement("div",{key:o,className:"flex items-center dark:bg-gray-900 bg-white pr-2 border-b dark:border-gray-700 light:border-gray-300 select-none"},e.createElement("input",{onChange:g=>{m(g,y)},checked:!y.excluded,id:`song-${o}`,type:"checkbox",className:"m-3"}),e.createElement("label",{className:"w-full py-2",htmlFor:`song-${o}`},y.title)))),e.createElement("p",{className:"mt-4"},"Czy chcesz kontynuowa\u0107? Ta operacja mo\u017Ce potrwa\u0107 ponad ",v()," sekund."),a&&e.createElement("p",{className:"text-gray-500 italic flex items-center"},e.createElement("span",{className:"iconify animate-spin","data-icon":"mdi:loading"}),e.createElement("span",{className:"ml-2"},"Szukam... ",i," / ",t.songs.filter(y=>!y.excluded).length)),!a&&((x=t.spotifySongs)==null?void 0:x.tracks)&&t.spotifySongs.tracks.length&&e.createElement("p",{className:"text-gray-500 italic flex items-center"},e.createElement("span",{className:"iconify","data-icon":"mdi:check"}),e.createElement("span",{className:"ml-2"},"Znalaz\u0142em ponad ",t.spotifySongs.tracks.length," piosenek!")),e.createElement("div",{className:"flex mt-2"},e.createElement(E,{onClick:N},"Szukaj"),e.createElement("div",{className:"flex-grow"}),e.createElement(E,{className:"mr-2",onClick:t.onBackward},"Wstecz"),e.createElement(E,{disabled:!((z=t.spotifySongs)==null?void 0:z.tracks.length),onClick:t.onForward},"Dalej")))},Ye=t=>{var z,y;const[a,n]=j("spotifyToken",null),[r,s]=u.exports.useState({}),[l,c]=u.exports.useState(!1),[d,i]=u.exports.useState(null),p=u.exports.createRef(),[h,m]=u.exports.useState("");function f(){var o;return((o=t.spotifySongs)==null?void 0:o.notFoundSongs)||[]}function w(o){var k,A;const g=(A=(k=t.spotifySongs)==null?void 0:k.tracks.map(F=>({uri:F.uri})))!=null?A:[];Ce(a.token,r,g).then(F=>{t.onForward&&t.onForward(o),console.log(F)})}function D(){Ne(a.token,h).then(o=>{d!==null&&i([o,...d])})}function v(o){m(o.currentTarget.value)}function N(){ze(a.token).then(o=>{const g=o.items.filter(k=>k.owner.uri==="spotify:user:bonk-pl");i(g)})}function x(){return t.songList.filter(o=>!o.excluded).length}return u.exports.useEffect(()=>{N()},[]),e.createElement(L,{active:t.active},e.createElement("p",{className:"mb-2"},"Znaleziono ponad ",(y=(z=t.spotifySongs)==null?void 0:z.tracks)==null?void 0:y.length," piosenek na Spotify z ",x()," granych w radiu. Poni\u017Cej jest lista piosenek, kt\xF3rych nie uda\u0142o si\u0119 wyszuka\u0107:"),e.createElement("div",{ref:p,className:b(l?"h-56 border":"h-0","overflow-auto transition-height rounded no-scrollbar shadow-md dark:border-gray-700 light:border-gray-300 w-100")},f().map((o,g)=>e.createElement("div",{key:g,className:"flex items-center dark:bg-gray-900 light:bg-white pl-4 pr-2 border-b dark:border-gray-700 light:border-gray-300 select-none"},e.createElement("label",{className:"w-full py-2",htmlFor:`song-${g}`},o.title))),!f().length&&e.createElement("div",{className:"flex justify-center flex-col items-center h-full"},e.createElement("span",{className:"iconify text-4xl","data-icon":"fluent:missing-metadata-16-regular"}),e.createElement("span",null,"Lista jest pusta"))),e.createElement(E,{onClick:()=>{c(!l)},className:"p-2 border rounded mt-2"},l?"Schowaj list\u0119":"Poka\u017C list\u0119"),e.createElement("p",{className:"mt-2"},"Wybierz playlist\u0119 z listy lub utw\xF3rz now\u0105, aby doda\u0107 do niej znalezione utwory. W razie dodawania do istniej\u0105cej playlisty, duplikaty zostan\u0105 usuni\u0119te przed ich dodaniem."),e.createElement(U,{onChange:v,className:"my-2 md:w-1/2",placeholder:"Super playlista",label:"Nazwa playlisty"}),e.createElement(E,{disabled:h.length===0,onClick:D,className:"mb-4"},"Utw\xF3rz"),e.createElement("div",{className:"overflow-auto h-56 transition-height rounded no-scrollbar shadow-md dark:border-gray-700 light:border-gray-300 w-100"},d==null?void 0:d.map((o,g)=>e.createElement("div",{key:g,className:"flex items-center dark:hover:bg-gray-700 dark:bg-gray-900 light:bg-white pr-2 border-b dark:border-gray-700 light:border-gray-300 select-none"},e.createElement("input",{onChange:k=>{s(o)},name:"playlists",id:`playlist-${g}`,type:"radio",className:"m-3"}),e.createElement("label",{className:"w-full py-2 cursor-pointer",htmlFor:`playlist-${g}`},o.name)))),e.createElement("div",{className:"flex"},e.createElement("div",{className:"flex-grow"}),e.createElement("button",{onClick:t.onBackward,type:"button",className:"rounded-lg mt-4 border border-gray-200 bg-white text-sm font-medium flex px-4 py-2 text-gray-900 hover:bg-gray-100 hover:text-green-700 focus:z-10 focus:ring-2 focus:ring-green-600 focus:text-green-700 mr-3 mb-3"},"Wstecz"),e.createElement("button",{onClick:w,type:"button",className:"rounded-lg mt-4 border border-gray-200 bg-white text-sm font-medium flex px-4 py-2 text-gray-900 hover:bg-gray-100 hover:text-green-700 focus:z-10 focus:ring-2 focus:ring-green-600 focus:text-green-700 mr-3 mb-3"},"Dodaj!")))},Ue=t=>e.createElement(L,{active:t.active},e.createElement("p",null,"Gratulacje! Doda\u0142e\u015B utwory z radia do swojej playlisty! ",e.createElement("br",null)," Przejd\u017A do platformy Spotify i ciesz si\u0119 muzyk\u0105 woln\u0105 od reklam radiowych."),e.createElement(q,{to:"/"},e.createElement(E,{className:"mt-2"},"Powr\xF3t do strony g\u0142\xF3wnej"))),Oe=()=>{const[t,a]=u.exports.useState(null),[n,r]=u.exports.useState([]),[s,l]=u.exports.useState(null),[c,d]=u.exports.useState(0),[i,p]=u.exports.useState({startDate:C().subtract(7,"days").toDate(),startHour:10,endDate:new Date,endHour:15});function h(){c<5&&d(c+1)}function m(){c>0&&d(c-1)}function f(x){a(x)}function w(...x){p(M(T({},i),{startDate:x[0]}))}function D(...x){p(M(T({},i),{endDate:x[0]}))}function v(x){return Math.abs(c-x)<2||x==2}function N(x){p(M(T({},i),{startHour:x[0],endHour:x[1]}))}return e.createElement("div",{className:"flex flex-col h-full"},e.createElement(Te,{className:"my-4 px-4 sm:p-0"},e.createElement(R,{title:"Krok 1",mobileVisible:v(0),active:c===0,description:"Wybierz radio"}),e.createElement(R,{title:"Krok 2",mobileVisible:v(1),active:c===1,description:"Okre\u015Bl czas"}),e.createElement(R,{title:"Krok 3",mobileVisible:v(2),active:c===2,description:"Pobierz piosenki"}),e.createElement(R,{title:"Krok 4",mobileVisible:v(3),active:c===3,description:"Znajd\u017A w Spotify"}),e.createElement(R,{title:"Krok 5",mobileVisible:v(4),active:c===4,description:"Stw\xF3rz playlist\u0119"})),e.createElement("div",{className:"flex flex-grow"},e.createElement(Re,{selectedRadio:t,selectRadio:f,active:c===0,onForward:h}),e.createElement(He,{onStartDateChange:w,onEndDateChange:D,onHoursChange:N,startDate:i.startDate,endDate:i.endDate,startHour:i.startHour,endHour:i.endHour,active:c===1,onForward:h,onBackward:m}),e.createElement(Be,{selectedRadio:t,songs:n,setSongs:r,timeRange:i,active:c===2,onForward:h,onBackward:m}),e.createElement(Ie,{setSongs:r,songs:n,spotifySongs:s,setSpotifySongs:l,active:c===3,onForward:h,onBackward:m}),e.createElement(Ye,{spotifySongs:s,active:c===4,onForward:h,onBackward:m,songList:n}),e.createElement(Ue,{active:c===5})))},_e=()=>e.createElement("main",null,"Not found"),We=["w-14 h-7 flex transition items-center rounded-full mx-3 px-1"],Ve=["bg-white w-5 h-5 rounded-full transition shadow-md transform"],Ke=()=>{const[t,a]=j("darkMode",!1),n=()=>{var l;s(!r),a(!t),(l=document.querySelector("html"))==null||l.classList.toggle("dark")};u.exports.useEffect(()=>{var l;t&&(s(!r),(l=document.querySelector("html"))==null||l.classList.add("dark"))},[]);const[r,s]=u.exports.useState(!1);return e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:b({"text-gray-900":!r,"text-gray-500":r})},e.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"}))),e.createElement("label",{htmlFor:"checkbox",className:"cursor-pointer"},e.createElement("input",{onChange:n,type:"checkbox",name:"checkbox",id:"checkbox",className:"hidden"}),e.createElement("div",{className:b(We,{"bg-gray-700":r,"bg-gray-300":!r})},e.createElement("div",{className:b(Ve,{"translate-x-7":r})}))),e.createElement("span",{className:b({"text-gray-200":r,"text-gray-400":!r})},e.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}))))},$e=t=>e.createElement("div",{className:"h-screen"},e.createElement("div",{className:"container h-full flex flex-col"},e.createElement("div",{className:"flex items-center px-5 justify-between md:px-0 pt-2 dark:text-white border-b border-gray-700 pb-2"},e.createElement(q,{to:"/"},"Radioify dla Spotify"),e.createElement(Ke,null)),e.createElement("div",{className:"flex-grow sm:flex-grow-0"},t.children))),Ze=()=>{function t(){return"/radioify"}return e.createElement(ce,{basename:t()},e.createElement($e,null,e.createElement(ie,null,e.createElement(B,{exact:!0,path:"/"},e.createElement(De,null)),e.createElement(B,{exact:!0,path:"/app"},e.createElement(Oe,null)),e.createElement(B,null,e.createElement(_e,null)))))};de.render(e.createElement(e.StrictMode,null,e.createElement(Ze,null)),document.getElementById("root"));
